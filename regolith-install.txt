# Register the Regolith public key to your local apt
wget -qO - https://archive.regolith-desktop.com/regolith.key | gpg --dearmor | sudo tee /usr/share/keyrings/regolith-archive-keyring.gpg > /dev/null

# Add the repository URL to your local apt
echo deb "[arch=amd64 signed-by=/usr/share/keyrings/regolith-archive-keyring.gpg] https://archive.regolith-desktop.com/ubuntu/stable noble v3.3" | \
sudo tee /etc/apt/sources.list.d/regolith.list

# Update apt
sudo apt update && sudo apt dist-upgrade

### install regolith
sudo apt install regolith-desktop regolith-session-flashback regolith-look-blackhole regolith-system-ubuntu

### allow networking via applet
sudo apt install regolith-wm-networkmanager
sudo systemctl disable systemd-networkd-wait-online.service && sudo systemctl mask systemd-networkd-wait-online.service
echo "network:\n  version:2\n  renderer:NetworkManager" | sudo tee /etc/netplan/50-cloud-init.yaml

### make gnome terminal readable to old eyes
dconf dump /org/gnome/terminal/ | sed "s/^font='.*'/font='Monospace 16'/" | dconf load /org/gnome/terminal/

sudo reboot

